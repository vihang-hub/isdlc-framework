Requirement,AC,Test Case,Test Type,Priority,Notes
FR-001,AC-001-01,TC-19.06,"positive",P1,"source: user set on skill add (verified via reconcile creating with correct source)"
FR-001,AC-001-02,TC-19.06,"positive",P0,"source: discover set on reconcile add"
FR-001,AC-001-03,TC-19.07,"positive",P0,"source: skills.sh set on reconcile add"
FR-001,AC-001-04,TC-22.04,"positive",P0,"Legacy entries without source treated as user"
FR-001,AC-001-04,TC-25.01,"positive",P0,"loadExternalManifest defaults missing source to user"
FR-001,AC-001-04,TC-25.04,"positive",P1,"Multiple legacy entries all get user default"
FR-002,AC-002-01,TC-20.01,"positive",P0,"Update source-owned fields, preserve user-owned"
FR-002,AC-002-01,TC-20.02,"positive",P0,"Update file path on existing skill"
FR-002,AC-002-01,TC-20.03,"positive",P0,"Preserve added_at on update"
FR-002,AC-002-01,TC-20.04,"positive",P0,"Refresh updated_at on update"
FR-002,AC-002-01,TC-20.05,"positive",P1,"Source field immutable on update"
FR-002,AC-002-01,TC-20.06,"positive",P2,"Update with no actual changes"
FR-002,AC-002-02,TC-19.01,"positive",P0,"First discover run adds new skill"
FR-002,AC-002-02,TC-19.02,"positive",P0,"Add multiple new skills"
FR-002,AC-002-02,TC-19.03,"positive",P0,"New skill gets timestamps"
FR-002,AC-002-02,TC-19.04,"positive",P1,"New skill uses incoming bindings"
FR-002,AC-002-02,TC-19.05,"positive",P2,"New skill without incoming bindings"
FR-002,AC-002-03,TC-21.01,"positive",P0,"Phase ran but produced nothing -- skill removed"
FR-002,AC-002-03,TC-21.05,"positive",P1,"Multiple skills removed when phases ran"
FR-002,AC-002-04,TC-21.02,"positive",P0,"Phase did NOT run -- skill preserved"
FR-002,AC-002-05,TC-22.01,"positive",P0,"User skills untouched during discover reconciliation"
FR-002,AC-002-05,TC-22.02,"positive",P1,"skills.sh skills untouched during discover reconciliation"
FR-002,AC-002-05,TC-22.03,"positive",P1,"Discover skills untouched during skills.sh reconciliation"
FR-002,AC-002-06,TC-21.03,"positive",P0,"phasesExecuted null -- no removals"
FR-002,AC-002-06,TC-21.04,"positive",P1,"phasesExecuted empty array -- no removals"
FR-003,AC-003-01,TC-23.01,"positive",P0,"Return includes manifest object"
FR-003,AC-003-02,TC-23.02,"positive",P0,"Return includes changed boolean"
FR-003,AC-003-02,TC-23.06,"positive",P0,"changed is false when no modifications"
FR-003,AC-003-03,TC-23.03,"positive",P0,"Return includes added array"
FR-003,AC-003-04,TC-23.04,"positive",P0,"Return includes removed array"
FR-003,AC-003-05,TC-23.05,"positive",P0,"Return includes updated array"
FR-004,AC-004-01,TC-20.01,"positive",P0,"name is match key (implicit in update test)"
FR-004,AC-004-02,TC-20.02,"positive",P0,"file is source-owned -- updated"
FR-004,AC-004-03,TC-20.05,"positive",P1,"source is immutable after creation"
FR-004,AC-004-04,TC-20.01,"positive",P0,"description is source-owned -- updated"
FR-004,AC-004-05,TC-20.03,"positive",P0,"added_at set once on creation"
FR-004,AC-004-06,TC-20.04,"positive",P0,"updated_at refreshed on each reconciliation"
FR-004,AC-004-07,TC-20.01,"positive",P0,"bindings is user-owned -- preserved"
FR-005,AC-005-01,TC-26.01,"positive",P1,"After reconcile changed:true, cache rebuild expected (verified by changed flag)"
FR-005,AC-005-02,TC-26.02,"positive",P1,"After reconcile changed:false, no rebuild (verified by changed flag)"
FR-005,AC-005-03,--,"not-testable",P3,"skill add/remove always rebuild -- existing behavior, not new code"
FR-006,AC-006-01,TC-26.04,"positive",P1,"Discover passes source, skills array, and phases"
FR-006,AC-006-02,--,"specification",P2,"Agent markdown uses return value for display -- manual verification"
FR-006,AC-006-03,TC-26.02,"positive",P1,"Cache rebuild gated by changed flag"
FR-007,AC-007-01,TC-26.04,"positive",P1,"Skills-researcher passes source:skills.sh and phases"
FR-007,AC-007-02,TC-26.02,"positive",P1,"Cache rebuild gated by changed flag"
FR-008,AC-008-01,TC-19.06,"positive",P0,"source field is string enum discover"
FR-008,AC-008-01,TC-19.07,"positive",P0,"source field is string enum skills.sh"
FR-008,AC-008-02,TC-19.03,"positive",P0,"added_at is ISO-8601 on creation"
FR-008,AC-008-03,TC-19.03,"positive",P0,"updated_at is ISO-8601 on creation"
FR-008,AC-008-03,TC-20.04,"positive",P0,"updated_at refreshed on reconciliation"
FR-008,AC-008-04,TC-25.01,"positive",P0,"Existing entries without source default to user"
FR-008,AC-008-04,TC-25.02,"positive",P1,"Entries with source discover preserved"
FR-008,AC-008-04,TC-25.03,"positive",P1,"Entries with source skills.sh preserved"
FR-008,AC-008-05,TC-25.05,"positive",P1,"Entries without updated_at treated as null"
--,--,TC-24.01,"negative",P1,"Null manifest normalized to empty"
--,--,TC-24.02,"negative",P0,"Source user rejected"
--,--,TC-24.03,"negative",P1,"incomingSkills not array rejected"
--,--,TC-24.04,"negative",P1,"incomingSkills null rejected"
--,--,TC-24.05,"negative",P1,"Incoming skill missing name skipped"
--,--,TC-24.06,"negative",P2,"Incoming skill missing file"
--,--,TC-24.07,"positive",P2,"Empty incoming with no phases -- no changes"
--,--,TC-26.03,"positive",P2,"User removes discover skill by name"
--,--,TC-27.01,"positive",P2,"Performance: 100 skills under 100ms"
--,--,TC-27.02,"positive",P3,"Performance: idempotent under 50ms"
