Requirement,AC_ID,AC_Description,Test_ID,Test_Name,Test_File,Test_Type,Priority,Coverage
FR-001,AC-001a,Phase activation sets timing.started_at,N/A (isdlc.md integration),Timing start on phase activation,isdlc.md (manual verification),Integration/Manual,P0,Covered (manual)
FR-001,AC-001b,Phase completion sets timing.completed_at and wall_clock_minutes,N/A (isdlc.md integration),Timing end on phase completion,isdlc.md (manual verification),Integration/Manual,P0,Covered (manual)
FR-001,AC-001c,Phase retry preserves original started_at,N/A (isdlc.md integration),Retry preserves timing start,isdlc.md (manual verification),Integration/Manual,P1,Covered (manual)
FR-001,AC-001d,collectPhaseSnapshots includes timing object,TC-PB-CS01,Timing data present in snapshot,common.test.cjs,Integration,P0,Covered (automated)
FR-001,AC-001e,Debate-enabled phases record debate_rounds_used,N/A (isdlc.md integration),Debate rounds recording,isdlc.md (manual verification),Integration/Manual,P1,Covered (manual)
FR-001,AC-001f,Fan-out phases record fan_out_chunks,N/A (isdlc.md integration),Fan-out chunks recording,isdlc.md (manual verification),Integration/Manual,P1,Covered (manual)
FR-002,AC-002a,performance_budgets section contains tier entries,TC-PB-01,Valid tier lookup from config,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-002,AC-002b,Each tier contains required budget fields,TC-PB-01,Valid tier lookup from config,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-002,AC-002c,Missing performance_budgets falls back to defaults,TC-PB-02,Missing config returns defaults,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-002,AC-002d,Budget lookup uses effective_intensity,TC-PB-01,Valid tier lookup from config,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-002,AC-002e,Fix workflows default to standard tier,TC-PB-03;TC-PB-04,Unknown intensity / null inputs fall back to standard,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003a,Calculates elapsed_minutes and compares against budget,TC-PB-05;TC-PB-06;TC-PB-07;TC-PB-08;TC-PB-09,Budget status computation tests,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003b,Exceeded budget emits BUDGET_WARNING to stderr,TC-PB-11,Warning on exceeded,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003c,Exceeded sets budget_status to exceeded,TC-PB-09,Exceeded (101%),performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003d,Under 80% sets budget_status to on_track,TC-PB-05;TC-PB-06,On track (under 80%) and exactly 80%,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003e,80-100% sets budget_status to approaching,TC-PB-07;TC-PB-08;TC-PB-12,Approaching tests and approaching warning,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-003,AC-003f,Budget checks NEVER block the workflow,TC-PB-10;TC-PB-13;TC-PB-14,Fail-open tests return safe defaults,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-004,AC-004a,Exceeded status degrades max_debate_rounds to 1,TC-PB-15,Exceeded + debate phase,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-004,AC-004b,Approaching status degrades max_debate_rounds to tier_max-1,TC-PB-17,Approaching + debate phase (epic),performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-004,AC-004c,On-track status includes no degradation directive,TC-PB-19,On_track returns empty,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-004,AC-004d,Records debate_rounds_degraded_to when degradation applied,TC-PB-15;TC-PB-17,Degradation result includes degraded_debate_rounds,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-004,AC-004e,--no-debate flag skips degradation,TC-PB-20,No-debate flag skips degradation,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-005,AC-005a,Exceeded status degrades max_fan_out_chunks to 2,TC-PB-16,Exceeded + fan-out phase,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-005,AC-005b,Approaching status degrades fan_out to floor(tier_max/2),TC-PB-18,Approaching + fan-out phase (epic),performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-005,AC-005c,--no-fan-out flag skips degradation,TC-PB-20,No-debate flag test pattern (analogous for fan-out),performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-005,AC-005d,Records fan_out_degraded_to when degradation applied,TC-PB-16;TC-PB-18,Degradation result includes degraded_fan_out_chunks,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-006,AC-006a,Reads workflow_history and filters by intensity,TC-PB-26,Intensity filtering,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-006,AC-006b,With 2+ prior workflows computes rolling average of last 5,TC-PB-24;TC-PB-25,2 prior computes average; 7 matching uses last 5,performance-budget.test.cjs,Unit,P0,Covered (automated)
FR-006,AC-006c,Current > rolling avg by >20% flags PERFORMANCE_REGRESSION,TC-PB-28;TC-PB-29;TC-PB-30;TC-PB-WCE01,Regression detection tests + enforcer integration,performance-budget.test.cjs;workflow-completion-enforcer.test.cjs,Unit+Integration,P0,Covered (automated)
FR-006,AC-006d,Fewer than 2 prior workflows skips regression detection,TC-PB-22;TC-PB-23;TC-PB-31;TC-PB-WCE03,Empty/insufficient history tests,performance-budget.test.cjs;workflow-completion-enforcer.test.cjs,Unit+Integration,P1,Covered (automated)
FR-006,AC-006e,Writes regression_check to workflow_history entry,TC-PB-WCE01;TC-PB-WCE02,Regression check written to history,workflow-completion-enforcer.test.cjs,Integration,P0,Covered (automated)
FR-007,AC-007a,Table with per-phase timing data,TC-PB-32,Full dashboard with all data,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-007,AC-007b,Header line with total time and budget,TC-PB-32,Full dashboard with all data,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-007,AC-007c,Regression display when detected,TC-PB-32;TC-PB-33,Full dashboard and no-regression variant,performance-budget.test.cjs,Unit,P1,Covered (automated)
FR-007,AC-007d,Degradation count display when applied,TC-PB-34,Degradation count displayed,performance-budget.test.cjs,Unit,P2,Covered (automated)
FR-007,AC-007e,Under-budget display,TC-PB-36,Budget on-track format,performance-budget.test.cjs,Unit,P2,Covered (automated)
FR-007,AC-007f,Over-budget display with exceeding phase,TC-PB-35,Budget exceeded format,performance-budget.test.cjs,Unit,P2,Covered (automated)
FR-008,AC-008a,Record dispatcher_start at hook loop start,TC-PB-DT1a;TC-PB-DT2a;TC-PB-DT3a;TC-PB-DT4a;TC-PB-DT5a,DISPATCHER_TIMING on stderr (5 dispatchers),test-*-dispatcher.test.cjs,Integration,P1,Covered (automated)
FR-008,AC-008b,Emit DISPATCHER_TIMING format to stderr,TC-PB-DT1a;TC-PB-DT2a;TC-PB-DT3a;TC-PB-DT4a;TC-PB-DT5a,DISPATCHER_TIMING on stderr (5 dispatchers),test-*-dispatcher.test.cjs,Integration,P1,Covered (automated)
FR-008,AC-008c,No effect on existing tests (stderr only),TC-PB-DT1b;TC-PB-DT2b;TC-PB-DT3b;TC-PB-DT4b;TC-PB-DT5b,stdout unaffected (5 dispatchers),test-*-dispatcher.test.cjs,Integration,P1,Covered (automated)
NFR-001,N/A,Zero Workflow Blocking -- fail-open defaults,TC-PB-04;TC-PB-10;TC-PB-14;TC-PB-19;TC-PB-22;TC-PB-31;TC-PB-37,All null/NaN/invalid input tests,performance-budget.test.cjs,Unit,P0,Covered (automated)
NFR-002,N/A,Timing Accuracy -- ISO-8601 and Math.round,TC-PB-05 through TC-PB-09,Budget status boundary tests,performance-budget.test.cjs,Unit,P1,Covered (automated)
NFR-003,N/A,State.json Footprint -- max 2 KB per workflow,N/A,Verified by design (module-design.md Section 4.4),N/A,Design review,P2,Covered (design)
NFR-004,N/A,Backward Compatibility -- existing tests pass,TC-PB-CS02,Timing data absent backward compat,common.test.cjs,Integration,P0,Covered (automated)
NFR-005,N/A,Observability -- structured stderr prefixes,TC-PB-11;TC-PB-12;TC-PB-WCE01;TC-PB-DT*,Warning prefix and timing format tests,Multiple test files,Unit+Integration,P1,Covered (automated)
